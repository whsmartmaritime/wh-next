@import "tailwindcss";
/* CSS variables: gutter, block spacing, column (cho các tính toán kích thước ảnh/stack) */
:root {
  /* Gutter ngang theo sample (không đặt width container, chỉ padding) */
  /* Use sample's dynamic gutter so --column matches sample proportions */
  --gutter-h: calc(50vw - 40rem);
  --block-spacing: 2rem;    /* khoảng cách dọc giữa các block */

  /* Column theo công thức sample: phụ thuộc gutter */
  --column: calc((100vw - (var(--gutter-h) * 2)) / 16);

  /* Theme color variables (used by components such as MegaMenu) */
  --color-text: #171717;         /* default body text (light) */
  --panel-bg: #ffffff;          /* menu / panel background (light) */
  --color-muted: #6b7280;       /* muted text (gray-600) */
  --panel-border: #e5e7eb;      /* panel top border (gray-200) */
  --link-hover-bg: #f8fafc;     /* link hover background (gray-50) */

  /* Màu đường kẻ nền cho BackgroundGrid */
  --grid-line-light: rgba(255, 255, 255, 0.08);
  --grid-line-dark: rgba(255, 255, 255, 0.12);
  --theme-border-color: var(--grid-line-light);

  /* Typography scale */
  --fs-12: 0.75rem;   /* 12px */
  --fs-14: 0.875rem;  /* 14px */
  --fs-16: 1rem;      /* 16px */
  --fs-18: 1.125rem;  /* 18px */
  --fs-20: 1.25rem;   /* 20px */
  --fs-24: 1.5rem;    /* 24px */
  --fs-28: 1.75rem;   /* 28px */
  --fs-32: 2rem;      /* 32px */
  --fs-40: 2.5rem;    /* 40px */
  --fs-48: 3rem;      /* 48px */
  --fs-56: 3.5rem;    /* 56px */
  --fs-64: 4rem;      /* 64px */

  /* Fluid typography (min, preferred, max) to make sizes responsive between breakpoints */
  --fs-body: clamp(0.95rem, 1rem + 0.3vw, 1.125rem); /* ~15.2px → 18px */
  --fs-h1: clamp(2.25rem, 2rem + 2.5vw, 3.5rem);    /* ~36px → 56px */
  --fs-h2: clamp(1.6rem, 1.5rem + 1.6vw, 2.5rem);   /* ~25.6px → 40px */
  --fs-h3: clamp(1.375rem, 1.25rem + 1vw, 2rem);    /* ~22px → 32px */
  --fs-h4: var(--fs-24);
  --fs-h5: var(--fs-20);
  --fs-h6: var(--fs-18);
}

@media (min-width: 640px) {
  :root {
    --gutter-h: 2rem;
    --block-spacing: 3.5rem;
  }
}

@media (min-width: 1024px) {
  :root {
    --gutter-h: 4rem;
    --block-spacing: 5rem;
    /* Ở mid-break sample chuyển 16 cột -> 8 cột để phần tử lớn hơn */
    --column: calc((100vw - (var(--gutter-h) * 2)) / 8);
  /* Keep clamp() values for responsive typography; only adjust gutter/column here */
  }
}

@media (min-width: 1280px) {
  :root {
    --gutter-h: 8rem;
  /* Optional: keep body readable at xl (avoid overriding clamp) */
  }
}

/* Dark scheme mapping cho BackgroundGrid */
@media (prefers-color-scheme: dark) {
  :root {
    --theme-border-color: var(--grid-line-dark);

    /* Apply dark theme color variables automatically when the OS/browser is dark */
    --color-text: #edf2f7;       /* near-white */
    --panel-bg: #0a0a0a;        /* dark panel background */
    --color-muted: #cbd5e1;     /* muted light */
    --panel-border: #1f2937;    /* slate-700 */
    --link-hover-bg: #0b1220;   /* subtle dark hover */
  }
}

/* Tailwind dark mode (class strategy): toggle by adding `class="dark"` on <html> */
@layer base {
  :root { color-scheme: light; }
  body { background-color: #ffffff; color: var(--color-text); }

  .dark { color-scheme: dark; }
  .dark body { background-color: #0a0a0a; color: var(--color-text); }

  /* Ensure grid line color switches when .dark is set explicitly */
  .dark { --theme-border-color: var(--grid-line-dark); }

  /* Dark theme variable overrides (used by components) */
  .dark {
    --color-text: #edf2f7;       /* near-white */
    --panel-bg: #0a0a0a;        /* dark panel background */
    --color-muted: #cbd5e1;     /* muted light */
    --panel-border: #1f2937;    /* slate-700 */
    --link-hover-bg: #0b1220;   /* subtle dark hover */
  }

  /* Base typography using CSS variables; Tailwind classes can override per component */
  html { font-size: 100%; }
  body { font-size: var(--fs-body); line-height: 1.6; }
  h1 { font-size: var(--fs-h1); line-height: 1.1; letter-spacing: -0.02em; margin: 0 0 0.5em; }
  h2 { font-size: var(--fs-h2); line-height: 1.15; letter-spacing: -0.01em; margin: 0.5em 0 0.5em; }
  h3 { font-size: var(--fs-h3); line-height: 1.2; margin: 0.75em 0 0.5em; }
  h4 { font-size: var(--fs-h4); line-height: 1.3; margin: 0.75em 0 0.5em; }
  h5 { font-size: var(--fs-h5); line-height: 1.35; margin: 0.75em 0 0.5em; }
  h6 { font-size: var(--fs-h6); line-height: 1.4; margin: 0.75em 0 0.5em; }
  p { font-size: var(--fs-body); margin: 1em 0; }
  small { font-size: var(--fs-14); }

  /* Ensure links inherit the computed text color (so dark-mode works) */
  a, a:visited { color: inherit; }
}

/* Reset nhỏ + logical properties (thân thiện RTL) */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; }

/* Tailwind utilities: dùng gutter thay vì width cứng */
@layer utilities {
  /* Padding ngang theo gutter toàn cục */
  .px-gutter { padding-inline: var(--gutter-h); }
  /* Margin ngang theo gutter nếu cần canh lề ngoài */
  .mx-gutter { margin-inline: var(--gutter-h); }
  /* Padding dọc theo block spacing */
  .py-block { padding-block: var(--block-spacing); }

  /* Container “hiện đại”: full width + căn giữa + gutter responsive
     Có thể kết hợp thêm max-w-* của Tailwind nếu muốn đặt trần. */
  .container-gutter {
    width: 100%;
    margin-inline: auto;
    padding-inline: var(--gutter-h);
  }
}

/* Components: mặc định container cho các chỗ chưa theo chuẩn mới */
@layer components {
  /* Không ép max-width; nếu đang dùng Tailwind .container với max-width, rule này chỉ bổ sung padding inline */
  .container {
    width: 100%;
    margin-inline: auto;
    padding-inline: var(--gutter-h);
  }

  /* Mega menu panel helper for stronger color/background control */
  .mega-menu-panel {
  /* Stronger rules so utility classes don't accidentally override the theme variables */
  background-color: var(--panel-bg) !important;
  color: var(--color-text) !important;
  border-top-color: var(--panel-border) !important;
  /* Ensure interactive children inherit the panel color */
  a, a:visited, .font-medium, .font-semibold { color: inherit !important; }
  }

  /* Fade-in animations used by Hero MediaStack (replicates sample keyframes) */
  @keyframes fadeIn {
    0% {
      opacity: 0;
      transform: translateY(4rem);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .fade-in-1 {
    opacity: 0;
    transform: translateY(4rem);
    animation: fadeIn 2s cubic-bezier(0, 0.2, 0.2, 1) 0.5s forwards;
  }

  .fade-in-2 {
    opacity: 0;
    transform: translateY(4rem);
    animation: fadeIn 3s cubic-bezier(0, 0.2, 0.2, 1) 1s forwards;
  }
}